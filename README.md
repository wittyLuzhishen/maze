# 迷宫探索游戏

一个基于HTML5 Canvas的2D迷宫探索游戏，玩家需要在黑暗的迷宫中寻找火把照明，找到钥匙并逃出迷宫。

## 游戏特色

- **黑暗迷宫探索**：玩家在完全黑暗的迷宫中探索，只有火把能照亮周围区域
- **逼真的视觉效果**：精心设计的玩家、火把和钥匙图形，带有动画效果
- **多种难度级别**：提供简单、中等、困难和自定义难度设置
- **迷宫循环**：迷宫中存在循环路径，实现"鬼打墙"效果
- **时间挑战**：火把会随时间燃烧殆尽，增加游戏紧张感
- **响应式UI**：自适应不同屏幕尺寸的游戏界面

## 游戏玩法

### 基本操作
- **移动**：使用WASD或方向键控制角色移动
- **收集火把**：走过迷宫中的火把自动收集，增加照明时间
- **寻找钥匙**：找到迷宫中的钥匙才能打开大门
- **逃出迷宫**：携带钥匙到达大门即可通关

### 游戏目标
在火把燃烧殆尽之前，找到钥匙并逃出迷宫。随着关卡增加，迷宫中的火把数量会减少，难度逐渐提升。

## 技术实现

### 核心技术
- **HTML5 Canvas**：用于游戏渲染和图形绘制
- **JavaScript ES6+**：模块化代码结构，使用JSDoc注释
- **CSS3**：响应式布局和动画效果
- **递归回溯算法**：生成迷宫结构
- **循环添加算法**：在迷宫中创建循环路径

### 项目结构
```
迷宫/
├── index.html          # 主HTML文件
├── style.css           # 样式表
├── config.js           # 游戏配置和常量
├── game.js             # 游戏主循环和初始化
├── state.js            # 游戏状态管理
├── player.js           # 玩家控制和渲染
├── maze.js             # 迷宫生成和渲染
└── items.js            # 道具（火把、钥匙、门）处理
```

### 关键算法

#### 迷宫生成
使用递归回溯算法生成基础迷宫结构，然后通过`addLoops()`函数添加循环路径，创建更复杂的迷宫布局。

#### 碰撞检测
采用AABB（轴对齐边界框）碰撞检测算法，确保玩家不会穿墙或卡在角落。

#### 光照效果
使用径向渐变实现火把照明效果，通过多层渐变创造自然的光照衰减。

## 游戏配置

### 难度级别
- **简单**：初始火把3个，迷宫中5个火把，照明半径120px
- **中等**：初始火把2个，迷宫中4个火把，照明半径100px
- **困难**：初始火把1个，迷宫中3个火把，照明半径80px
- **自定义**：可自由调整所有游戏参数

### 可配置参数
- 初始火把数量
- 迷宫中火把数量
- 迷宫尺寸（宽度和高度）
- 火把照明半径
- 火把燃烧时间

## 开发说明

### 代码规范
- 使用ES6+模块化语法
- 采用JSDoc注释风格
- 遵循驼峰命名规则
- 集中管理颜色定义，避免硬编码

### 扩展建议
- 添加更多道具类型（如地图、指南针）
- 实现多人游戏模式
- 添加音效和背景音乐
- 开发移动端触控支持

## 运行方法

1. 克隆或下载项目文件
2. 使用本地服务器运行（推荐）：
   ```
   python -m http.server 8000
   ```
3. 在浏览器中访问 `http://localhost:8000`

## 系统要求

- 现代浏览器（支持ES6+和Canvas API）
- 不需要额外安装任何库或框架

## 版本历史

- v1.0.0：初始版本，包含基本游戏功能
- v1.1.0：添加逼真图形效果和UI布局优化
- v1.2.0：实现迷宫循环和完整代码注释

## 贡献指南

欢迎提交问题报告和功能请求。如需贡献代码，请确保：
1. 遵循现有代码风格
2. 添加适当的JSDoc注释
3. 测试新功能的兼容性

## 许可证

本项目采用MIT许可证，详情请参阅LICENSE文件。